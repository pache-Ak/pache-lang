# 编译顺序

## 依赖关系

1. 变量声明依赖类型声明：在变量声明中，如果使用了某个类型的变量而该类型尚未声明，就会出现依赖问题。此时，需要在使用变量之前，先声明对应的类型。

2. 变量定义依赖类型定义：如果在变量定义中使用了某个类型而该类型尚未定义，就会出现依赖问题。此时，需要在使用变量之前，先定义对应的类型。

3. 变量值依赖函数声明：如果在变量的初始值表达式中使用了某个函数而该函数尚未声明，就会出现依赖问题。此时，需要在使用函数之前，先声明对应的函数。

4. 函数声明依赖类型声明：在函数声明中，如果使用了某个类型的参数或返回值而该类型尚未声明，就会出现依赖问题。此时，需要在使用类型之前，先声明对应的类型。

5. 函数定义依赖变量、类型定义，其他函数声明：函数的定义可能依赖多个方面的定义，包括变量定义、类型定义以及其他函数的声明。在函数定义之前，需要确保所依赖的变量、类型和其他函数的定义已经出现。

6. 类型声明无：类型声明通常不会有依赖问题，因为类型声明只是提供了类型的存在信息，而不涉及具体的定义。

7. 类型定义依赖其他类型：类型定义可能依赖其他类型的存在，例如使用其他类型作为成员变量或函数参数。在定义类型之前，需要确保所依赖的其他类型已经定义。

8. 定义依赖成环是错误的，需给出错误信息：如果定义出现循环依赖，例如 A 依赖 B，而 B 又依赖 A，则会导致编译错误。编译器需要检测到这种循环依赖的情况，并给出相应的错误信息。

## 顺序

1. 类型声明, 嵌套类声明

2. ~~指针引用变量声明（类型声明）~~ （非类成员可以与一般变量一同处理）、 函数声明（类型声明）、 嵌套类定义（类变量声明依赖其他类型声明 上下文依赖）->外层类定义

3. 一般变量声明（类型定义） 变量定义（类型定义、函数声明， 循环依赖）、 静态类变量定义、 

4. 函数定义（变量定义、函数声明）、类函数定义（函数依赖类型定义（含自身）、变量定义、静态类变量定义，函数声明） 上下文依赖

注：函数互相依赖是合法的。